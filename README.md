# RubyScore Single Identifier Contracts

This repo will have a code of RubyScore Identifier Contracts.

## Deployed Contract Addresses
### Contracts

#### Arbitrum
| Contract                 | Mainnet                                    | Testnet |
|--------------------------|--------------------------------------------|---------|
| SingleIdentifierID       | 0xc1b435E1cee1610aa1A19C5cBA20C832dA057146 |         |
| SingleIdentifierRegistry | 0x4D1E2145082d0AB0fDa4a973dC4887C7295e21aB |         |
| SingleRouter             | 0x9456E02Ef02C0F5256a559ecf7535356Aeab8647 |         |
| SameChainConnector       | 0xF57Cb671D50535126694Ce5Cc3CeBe3F32794896 |         |
| LayerZeroConnector       | 0xEAcf8B19E104803cfCD2557D893D6a407E4994F0 |         |
| HyperlaneConnector       | 0x979Be3738f4D0e5f230065F6E4e25e0A3dB1D1AA |         |


#### Base
| Contract                 | Mainnet                                    | Testnet                                    |
|--------------------------|--------------------------------------------|--------------------------------------------|
| SingleIdentifierID       | 0x09B18EFC623bf4a6247B23320920C3044a45cC2c | 0x4521Cef22E6fB66BA7658db23bE33DA08516bBB3 |
| SingleIdentifierRegistry | 0x81f06f4b143a6eAD0e246DA04420F9d6d1fBEF59 | 0x0896fd6E41a494F7651de341964048b2B851133E |
| SingleRouter             | 0xfcB1A34583980bc4565Eb8458B0F715f69e04bA8 | 0xe51Ff9C57c6232ADE9bdA5F5AAAa9bf4d76E44e5 |
| SameChainConnector       | 0xB9cC0Bb020cF55197C4C3d826AC87CAdba51f272 | 0xc57a177A15Eba09A451Ebd5715e2EC10BEd141F4 |
| LayerZeroConnector       | 0x97e02Bc54a98f48B7858357030dAb2f22f701c3B | 0x9f5DAFFf1Ef72de817eb912BadfC88f89A494341 |
| HyperlaneConnector       | 0x08d1Ab08766CdDc03979C1de5708CB0cb79ce4ea | 0x7c9AE25F52DfE6E31F004DB2907c9D70CD8535BE |

#### Optimism
| Contract                 | Mainnet                                    | Testnet                                    |
|--------------------------|--------------------------------------------|--------------------------------------------|
| SingleIdentifierID       | 0xfa31AB150782F086Ba93b7902E73B05DCBDe716b | 0x7c9AE25F52DfE6E31F004DB2907c9D70CD8535BE |
| SingleIdentifierRegistry | 0x4E44211aFe692a4fea11344a2a5827a06aFa573f | 0x979Be3738f4D0e5f230065F6E4e25e0A3dB1D1AA |
| SingleRouter             | 0x483aC3C8F6C48737a3E524a086A32581Ad433D53 | 0xc57a177A15Eba09A451Ebd5715e2EC10BEd141F4 |
| SameChainConnector       | 0x98c269281AE587aD304c5CA70EbA76D0ad352ac5 | 0x818c39c74d51A42a1690406Cf25DD62bcBE9C968 |
| LayerZeroConnector       | 0x6cf740D3145b71F705A9745A35b9C91f8B4F7DDF | 0xD575F639f5dAE94b88C54Ec93C01Cc4586a60D11 |
| HyperlaneConnector       | 0x9215FB8E47cfCaE92200EDDA026488e4fA87cF4c | 0x08d1Ab08766CdDc03979C1de5708CB0cb79ce4ea |

#### Linea
| Contract                 | Mainnet                                    | Testnet |
|--------------------------|--------------------------------------------|---------|
| SingleIdentifierID       | 0xFC353736BBA5642ab481b6b8392827B69A20cb17 |         |
| SingleIdentifierRegistry | 0xDe981aB0cd819bF5D142B89fedA70119D3A958B9 |         |
| SingleRouter             | 0x812DEC92e64Da2FCB773528CBC8B71aaDaA310e8 |         |
| SameChainConnector       | 0x84de0bEE4306f227d2148824A775b7A9c6cDB835 |         |
| LayerZeroConnector       | 0xe9ef538D0430c63422cD23f60A1548261248dFB4 |         |
| HyperlaneConnector       | 0xB0575B90c972D81A1Aa743b81DFFe86c36c0C48b |         |

#### Scroll
| Contract                 | Mainnet                                    | Testnet |
|--------------------------|--------------------------------------------|---------|
| SingleIdentifierID       | 0x25158191bab9BFF92EB7214b6c2dE79105D11593 |         |
| SingleIdentifierRegistry | 0x4e5bAE495031fECd141c39D0ca231d56e178Fb05 |         |
| SingleRouter             | 0xfa31AB150782F086Ba93b7902E73B05DCBDe716b |         |
| SameChainConnector       | 0x6cf740D3145b71F705A9745A35b9C91f8B4F7DDF |         |
| LayerZeroConnector       | 0x818c39c74d51A42a1690406Cf25DD62bcBE9C968 |         |
| HyperlaneConnector       | 0x9215FB8E47cfCaE92200EDDA026488e4fA87cF4c |         |

#### ZkEvm
| Contract                 | Mainnet                                    | Testnet |
|--------------------------|--------------------------------------------|---------|
| SingleIdentifierID       | 0x389452F3AA4B82C19bf8dFC2943Ca28E9f4EDA4A |         |
| SingleIdentifierRegistry | 0x9456E02Ef02C0F5256a559ecf7535356Aeab8647 |         |
| SingleRouter             | 0x09B18EFC623bf4a6247B23320920C3044a45cC2c |         |
| SameChainConnector       | 0x97e02Bc54a98f48B7858357030dAb2f22f701c3B |         |
| LayerZeroConnector       | 0x1B723fe70CBc01eaad304cE6733B70F8F988c21e |         |
| HyperlaneConnector       | 0xfa31AB150782F086Ba93b7902E73B05DCBDe716b |         |

#### Taiko
| Contract                 | Mainnet                                    | Testnet |
|--------------------------|--------------------------------------------|---------|
| SingleIdentifierID       | 0xAff9D3Af3495c54E0bb90e03Bc762681bF5a52Bf |         |
| SingleIdentifierRegistry | 0xB9cC0Bb020cF55197C4C3d826AC87CAdba51f272 |         |
| SingleRouter             | 0x3fd85e4932fA418401E96737700bA62569c08dA2 |         |
| SameChainConnector       | 0x9456E02Ef02C0F5256a559ecf7535356Aeab8647 |         |
| LayerZeroConnector       | 0xc1b435E1cee1610aa1A19C5cBA20C832dA057146 |         |
| HyperlaneConnector       | 0x08d1Ab08766CdDc03979C1de5708CB0cb79ce4ea |         |

#### Polygon
| Contract                 | Mainnet                                    | Testnet |
|--------------------------|--------------------------------------------|---------|
| SingleIdentifierID       | 0x3d52d95d58fcb53814ea37d580601d2af2b4cc98 |         |
| SingleIdentifierRegistry | 0x4d1e2145082d0ab0fda4a973dc4887c7295e21ab |         |
| SingleRouter             | 0xbdb018e21ad1e5756853fe008793a474d329991b |         |
| SameChainConnector       | 0xeacf8b19e104803cfcd2557d893d6a407e4994f0 |         |
| LayerZeroConnector       | 0xfcb1a34583980bc4565eb8458b0f715f69e04ba8 |         |
| HyperlaneConnector       | 0x9456e02ef02c0f5256a559ecf7535356aeab8647 |         |

## Setting project

### Install dependencies

```sh
npm install
```

---

## config

```
DEPLOYER_KEY = ""
INFURA_KEY = ""
ETHERSCAN_API_KEY = ""
POLYGONSCAN_API_KEY = ""
BSCSCAN_API_KEY = ""
```

### Setup config

Create and fill _.env_ file.

```sh
cp .env.example .env
```

---

### Compile contracts

```sh
npm run compile
```

---

### Migrate contracts

```sh
npm run migrate:<NETWORK> (mainnet, goerli, polygon, polygonMumbai, bsc, bscTestnet)
```

---

### Verify contracts

To verify the contract, you must specify the names of the contracts for verification through "," WITHOUT SPACES

```sh
npm run verify:<NETWORK> <NAME_CONTRACT_FIRST>,<NAME_CONTRACT_SECOND>
```

---

### Tests contracts

```sh
# Run Tests
npm run test

# Run test watcher
npm run test:watch
```

---

### Node hardhat(Localfork)

NOTE:// To work with a node or fork, you need to run the node in a separate console

```sh
# Run Node hardhat (For run localfork setting config { FORK_ENABLED: true, FORK_PROVIDER_URI: "https://...."})
npm run node

# Run test watcher
npm run test:node
```

---

### Coverage

```sh
npm run coverage
```

---

### Gas reporter

You can start the gas reporter either through a separate gas reporter script through "**npm run**" or by changing the variable in the config "**GAS_REPORTER.ENABLED**" when running tests

```sh
# Native gas reporter
npm run gas-reporter

# GAS_REPORTER.ENABLED = true
npm run test
```

---

### Clean

```sh
# Rm artifacts, cache, typechain-types
npm run clean

# Rm deployments for choose network
npm run clean:deployments <NETWORK>
```

---

### Linter

```sh
# Checking code style for .ts, .sol
npm run lint

# Run fix code style for .ts, .sol
npm run lint:fix

# Checking code style for .ts
npm run lint:ts

# Run fix code style for .ts
npm run lint:ts:fix

# Checking code style for .sol
npm run lint:sol

# Run fix code style for .sol
npm run lint:sol:fix
```

---

## Auto audit with slither

To run the analyzer, you must first install it globally

To audit all contracts, use the command :

```sh
slither .
```

To exclude warnings in subsequent audits, use :

```sh
slither . --triage
```

---
